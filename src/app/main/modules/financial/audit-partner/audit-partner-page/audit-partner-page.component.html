<div class="mr-5 ml-5 mt-3">
  <form [formGroup]="filterForm"
        (ngSubmit)="onSubmit()"
        class="mt-4"
        fxLayout="row"
        fxLayoutAlign="start center"
        fxLayoutGap="24px">

    <div class="pos-relative"
         fxFlex="30%">
      <app-cfc-autocomplete class="auto-complete"
                            formControlName="cfc"
                            [fControl]="filterForm.controls.cfc">
      </app-cfc-autocomplete>
    </div>

    <button class="mr-3"
            mat-raised-button
            color="primary"
            type="submit">LISTAR</button>
  </form>

  <div class="mt-5 audit-table">
    <table mat-table
           [dataSource]="dataSource"
           class="mat-elevation-z8"
           *ngIf="dataSource?.data?.length > 0; else noData">

      <ng-container matColumnDef="cpf">
        <th mat-header-cell
            *matHeaderCellDef> CPF </th>
        <td mat-cell
            *matCellDef="let element"> {{element.cpfCandidato}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell
            *matHeaderCellDef> Descrição </th>
        <td mat-cell
            *matCellDef="let element"> {{element.descricao}} </td>
      </ng-container>

      <ng-container matColumnDef="validDate">
        <th mat-header-cell
            *matHeaderCellDef> Data de Vencimento </th>
        <td mat-cell
            *matCellDef="let element"> {{element.dataVencimento | date: 'dd/MM/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="value">
        <th mat-header-cell
            *matHeaderCellDef> Valor (R$)</th>
        <td mat-cell
            *matCellDef="let element"> {{element.valor | currency : 'BRL'}} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell
            *matHeaderCellDef
            class="audit-table__cell--center"> Situação </th>
        <td mat-cell
            *matCellDef="let element"
            class="audit-table__cell--center">
          <div [class]="'audit-table__status audit-table__status--' + element.statusAtual">
            {{element.statusAtual | situationPipe}}
          </div>
        </td>
      </ng-container>

      <tr mat-header-row
          *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row
          *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

  <ng-template #noData>
    <ng-container>
      <div class="txt-center">
        Preencha o campos e clique em LISTAR.
      </div>
    </ng-container>
  </ng-template>
</div>
