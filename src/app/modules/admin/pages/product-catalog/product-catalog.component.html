<div>
    <div class="header">
        <h5>Catálogo de produtos</h5>
        <button nbButton status="primary" routerLink="/admin/new">
            <nb-icon icon="plus-outline"></nb-icon>
        </button>
    </div>

    <nb-card>
        <nb-card-body>
            <table datatable class="row-border hover">
                <thead>
                    <tr>
                        <th></th>
                        <th>Nome</th>
                        <th>Preço</th>
                        <th>Categoria</th>
                        <th>Promoção</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of productList$ | async">
                        <td>
                            <img width="100" [src]="product.images[0]" alt="">
                        </td>
                        <td>
                            <b> {{product.title}} </b>
                        </td>
                        <td>
                            R${{product.price}}
                        </td>
                        <td class="category">
                            <button nbButton size="tiny" *ngFor="let category of product.categories">
                                {{category}}
                            </button>
                        </td>
                        <td>
                            <button nbButton size="tiny" [status]="promo.status" *ngFor="let promo of product.promotions">
                                {{promo.title}}
                            </button>
                        </td>
                        <td>
                            <button nbButton ghost fullWidth status="basic" routerLink="/admin/{{product.id}}">
                                <nb-icon icon="edit-outline"></nb-icon>
                            </button>
                        </td>
                        <td>
                            <button nbButton ghost fullWidth status="primary" (click)="delete(product.id)">
                                <nb-icon icon="trash-2-outline"></nb-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </nb-card-body>
    </nb-card>
</div>